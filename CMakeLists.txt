# This file was automagically generated by mbed.org.
# If you would like to add your own targets, create a
# project.cmake file locally in your project directory.

CMAKE_MINIMUM_REQUIRED(VERSION 3.9)
SET(CMAKE_SYSTEM_NAME Generic)

SET(CMAKE_NINJA_FORCE_RESPONSE_FILE 1 CACHE INTERNAL “”)

SET(ELF2BIN "arm-none-eabi-objcopy" CACHE STRING "" FORCE)
set(CMAKE_TRY_COMPILE_TARGET_TYPE "STATIC_LIBRARY")

# if the environment does not specify build type, set to Debug
IF(NOT CMAKE_BUILD_TYPE)
  set(CMAKE_BUILD_TYPE "Debug"
        CACHE STRING "Choose the type of build, options are: Debug Release RelWithDebInfo MinSizeRel."
        FORCE)
ENDIF()

# here starts the project
PROJECT(my_NBoard C CXX ASM)

# uncomment below to have a verbose build process
#SET(CMAKE_VERBOSE_MAKEFILE ON)

SET(LD_SYS_LIBS "-Wl,--start-group -lstdc++ -lsupc++ -lm -lc -lgcc -lnosys -lmbed -Wl,--end-group")

SET(CMAKE_C_FLAGS "-std=gnu11 -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -fmessage-length=0 -fno-exceptions -ffunction-sections -fdata-sections -funsigned-char -MMD -fomit-frame-pointer -DMBED_TRAP_ERRORS_ENABLED=1 -DMBED_RTOS_SINGLE_THREAD -D__NEWLIB_NANO -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp -DMBED_ROM_START=0x8000000 -DMBED_ROM_SIZE=0x10000 -DMBED_RAM_START=0x20000000 -DMBED_RAM_SIZE=0x3000 -include mbed_config.h" CACHE STRING "" FORCE)
SET(CMAKE_CXX_FLAGS "-std=gnu++14 -fno-rtti -Wvla -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -fmessage-length=0 -fno-exceptions -ffunction-sections -fdata-sections -funsigned-char -MMD -fomit-frame-pointer -DMBED_TRAP_ERRORS_ENABLED=1 -DMBED_RTOS_SINGLE_THREAD -D__NEWLIB_NANO -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp -DMBED_ROM_START=0x8000000 -DMBED_ROM_SIZE=0x10000 -DMBED_RAM_START=0x20000000 -DMBED_RAM_SIZE=0x3000  -include mbed_config.h" CACHE STRING "" FORCE)
SET(CMAKE_ASM_FLAGS "-x assembler-with-cpp -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -fmessage-length=0 -fno-exceptions -ffunction-sections -fdata-sections -funsigned-char -MMD -fomit-frame-pointer -DMBED_TRAP_ERRORS_ENABLED=1 -DMBED_RTOS_SINGLE_THREAD -D__NEWLIB_NANO -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp  -include mbed_config.h" CACHE STRING "" FORCE)

SET(CMAKE_C_FLAGS_DEBUG "-O0 -g" CACHE STRING "" FORCE)
SET(CMAKE_CXX_FLAGS_DEBUG "-O0 -g" CACHE STRING "" FORCE)
SET(CMAKE_ASM_FLAGS_DEBUG "-O0 -g" CACHE STRING "" FORCE)

SET(CMAKE_C_FLAGS_MINSIZEREL "-Os -DNDEBUG" CACHE STRING "" FORCE)
SET(CMAKE_CXX_FLAGS_MINSIZEREL "-Os -DNDEBUG" CACHE STRING "" FORCE)
SET(CMAKE_ASM_FLAGS_MINSIZEREL "-Os -DNDEBUG" CACHE STRING "" FORCE)

SET(CMAKE_C_FLAGS_RELEASE "-O3 -DNDEBUG" CACHE STRING "" FORCE)
SET(CMAKE_CXX_FLAGS_RELEASE "-O3 -DNDEBUG" CACHE STRING "" FORCE)
SET(CMAKE_ASM_FLAGS_RELEASE "-O3 -DNDEBUG" CACHE STRING "" FORCE)

SET(CMAKE_C_FLAGS_RELWITHDEBINFO "-O2 -g -DNDEBUG" CACHE STRING "" FORCE)
SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO "-O2 -g -DNDEBUG" CACHE STRING "" FORCE)
SET(CMAKE_ASM_FLAGS_RELWITHDEBINFO "-O2 -g -DNDEBUG" CACHE STRING "" FORCE)

SET(CMAKE_CXX_LINK_FLAGS "-Wl,--gc-sections -Wl,--wrap,main -Wl,--wrap,__malloc_r -Wl,--wrap,__free_r -Wl,--wrap,__realloc_r -Wl,--wrap,__memalign_r -Wl,--wrap,__calloc_r -Wl,--wrap,exit -Wl,--wrap,atexit -Wl,-n --specs=nano.specs -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -fmessage-length=0 -fno-exceptions -ffunction-sections -fdata-sections -funsigned-char -MMD -fomit-frame-pointer -DMBED_TRAP_ERRORS_ENABLED=1 -DMBED_RTOS_SINGLE_THREAD -D__NEWLIB_NANO -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp -DMBED_ROM_START=0x8000000 -DMBED_ROM_SIZE=0x10000 -DMBED_RAM_START=0x20000000 -DMBED_RAM_SIZE=0x3000 -DMBED_BOOT_STACK_SIZE=1024 -DXIP_ENABLE=0  -L${CMAKE_CURRENT_SOURCE_DIR}/mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM -u_printf_float")
SET(CMAKE_CXX_LINK_FLAGS "${CMAKE_CXX_LINK_FLAGS} ${LD_SYS_LIBS} -T ${CMAKE_BINARY_DIR}/my_NBoard_pp.link_script.ld")

ADD_DEFINITIONS(
  -DARM_MATH_CM4
  -DDEVICE_ANALOGIN=1
  -DDEVICE_ANALOGOUT=1
  -DDEVICE_CAN=1
  -DDEVICE_CRC=1
  -DDEVICE_I2C=1
  -DDEVICE_I2CSLAVE=1
  -DDEVICE_I2C_ASYNCH=1
  -DDEVICE_INTERRUPTIN=1
  -DDEVICE_PORTIN=1
  -DDEVICE_PORTINOUT=1
  -DDEVICE_PORTOUT=1
  -DDEVICE_PWMOUT=1
  -DDEVICE_RESET_REASON=1
  -DDEVICE_RTC=1
  -DDEVICE_SERIAL=1
  -DDEVICE_SERIAL_FC=1
  -DDEVICE_SLEEP=1
  -DDEVICE_SPI=1
  -DDEVICE_SPISLAVE=1
  -DDEVICE_SPI_ASYNCH=1
  -DDEVICE_STDIO_MESSAGES=1
  -DDEVICE_USTICKER=1
  -DDEVICE_WATCHDOG=1
  -DMBED_BUILD_TIMESTAMP=1594929791.1538734
  -DTARGET_CORTEX
  -DTARGET_CORTEX_M
  -DTARGET_LIKE_CORTEX_M4
  -DTARGET_LIKE_MBED
  -DTARGET_M4
  -DTARGET_MCU_STM32
  -DTARGET_MCU_STM32_BAREMETAL
  -DTARGET_NAME=NUCLEO_F303K8
  -DTARGET_NUCLEO_F303K8
  -DTARGET_RELEASE
  -DTARGET_RTOS_M4_M7
  -DTARGET_STM
  -DTARGET_STM32F3
  -DTARGET_STM32F303K8
  -DTARGET_STM32F303x8
  -DTOOLCHAIN_GCC
  -DTOOLCHAIN_GCC_ARM
  -DTRANSACTION_QUEUE_SIZE_SPI=2
  -DUSE_FULL_LL_DRIVER
  -DUSE_HAL_DRIVER
  -D__CMSIS_RTOS
  -D__CORTEX_M4
  -D__FPU_PRESENT=1
  -D__MBED_CMSIS_RTOS_CM
  -D__MBED__=1
  )
INCLUDE_DIRECTORIES(
  mbed/platform
  mbed/hal
  mbed/drivers
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM
  mbed
  IHM_V2
  include
  .
  )

FILE(GLOB_RECURSE sources ${CMAKE_SOURCE_DIR}/src/*.cpp)

# executable my_NBoard
ADD_EXECUTABLE(my_NBoard
  ${sources}
  IHM_V2/IHM.cpp
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/analogin_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/analogin_device.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/analogout_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/analogout_device.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/can_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/except.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/flash_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/gpio_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/gpio_irq_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/gpio_irq_device.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/hal_tick_overrides.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/i2c_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/lp_ticker.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/mbed_board.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/mbed_crc_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/mbed_fault_handler.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/mbed_overrides.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/mbed_retarget.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/mbed_sdk_boot.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/mbed_tz_context.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/PeripheralPins.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/pinmap.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/port_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/pwmout_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/pwmout_device.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/qspi_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/rtc_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/serial_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/serial_device.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/sleep.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/spi_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/startup_stm32f303x8.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_adc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_adc_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_can.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_cec.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_comp.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_cortex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_crc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_crc_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_dac.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_dac_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_dma.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_flash.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_flash_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_gpio.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_hrtim.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_i2c.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_i2c_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_i2s.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_i2s_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_irda.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_iwdg.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_nand.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_nor.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_opamp.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_opamp_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_pccard.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_pcd.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_pcd_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_pwr.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_pwr_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_rcc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_rcc_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_rtc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_rtc_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_sdadc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_smartcard.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_smartcard_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_smbus.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_spi.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_spi_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_sram.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_tim.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_tim_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_tsc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_uart.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_uart_ex.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_usart.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_hal_wwdg.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_adc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_comp.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_crc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_dac.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_dma.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_exti.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_fmc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_gpio.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_hrtim.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_i2c.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_opamp.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_pwr.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_rcc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_rtc.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_spi.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_tim.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_usart.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm32f3xx_ll_utils.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/stm_spi_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/system_clock.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/system_stm32f3xx.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/trng_api.o
  mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/us_ticker.o  
  )
SET_TARGET_PROPERTIES(my_NBoard PROPERTIES ENABLE_EXPORTS 1)
TARGET_LINK_LIBRARIES(my_NBoard -lstdc++ -lsupc++ -lm -lc -lgcc -lnosys -lmbed)

add_custom_command(TARGET my_NBoard PRE_LINK
                   COMMAND "arm-none-eabi-cpp" -E -P -Wl,--gc-sections -Wl,--wrap,main -Wl,--wrap,_malloc_r -Wl,--wrap,_free_r -Wl,--wrap,_realloc_r -Wl,--wrap,_memalign_r -Wl,--wrap,_calloc_r -Wl,--wrap,exit -Wl,--wrap,atexit -Wl,-n --specs=nano.specs -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -fmessage-length=0 -fno-exceptions -ffunction-sections -fdata-sections -funsigned-char -MMD -fomit-frame-pointer -DMBED_TRAP_ERRORS_ENABLED=1 -DMBED_RTOS_SINGLE_THREAD -D__NEWLIB_NANO -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp -DMBED_ROM_START=0x8000000 -DMBED_ROM_SIZE=0x10000 -DMBED_RAM_START=0x20000000 -DMBED_RAM_SIZE=0x3000 -DMBED_BOOT_STACK_SIZE=1024 -DXIP_ENABLE=0 mbed/TARGET_NUCLEO_F303K8/TOOLCHAIN_GCC_ARM/STM32F303X8.ld -o ${CMAKE_CURRENT_BINARY_DIR}/my_NBoard_pp.link_script.ld
                   WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
                   BYPRODUCTS "${CMAKE_CURRENT_BINARY_DIR}/my_NBoard_pp.link_script.ld"
                   )

add_custom_command(TARGET my_NBoard POST_BUILD
                   COMMAND ${ELF2BIN} -O ihex $<TARGET_FILE:my_NBoard> $<TARGET_FILE:my_NBoard>.hex
                   COMMAND ${CMAKE_COMMAND} -E echo "-- built: $<TARGET_FILE:my_NBoard>.hex"
                  )
